# Firebase Realtime Database Setup for Tech Events

## ğŸ”¥ Database Structure

The tech events are now stored in Firebase Realtime Database at the following path:

```
https://login-44e2b-default-rtdb.asia-southeast1.firebasedatabase.app/
â””â”€â”€ techEvents/
    â”œâ”€â”€ -eventId1/
    â”‚   â”œâ”€â”€ title: "Hackathon 2024"
    â”‚   â”œâ”€â”€ details: "Annual coding competition"
    â”‚   â”œâ”€â”€ place: "New York"
    â”‚   â”œâ”€â”€ venue: "Tech Center"
    â”‚   â”œâ”€â”€ date: "2024-08-15T10:00:00.000Z"
    â”‚   â”œâ”€â”€ requirements: "Programming skills"
    â”‚   â”œâ”€â”€ type: "hackathon"
    â”‚   â”œâ”€â”€ posterUrl: "https://..."
    â”‚   â”œâ”€â”€ posterPath: "tech-events/..."
    â”‚   â”œâ”€â”€ createdAt: 1234567890
    â”‚   â”œâ”€â”€ updatedAt: 1234567890
    â”‚   â”œâ”€â”€ createdBy: "admin-uid"
    â”‚   â”œâ”€â”€ isActive: true
    â”‚   â”œâ”€â”€ registrationLink: "https://..."
    â”‚   â”œâ”€â”€ deadline: "2024-08-10T23:59:59.000Z"
    â”‚   â”œâ”€â”€ tags: ["hackathon", "coding", "competition"]
    â”‚   â””â”€â”€ priority: "high"
    â””â”€â”€ -eventId2/
        â””â”€â”€ ...
```

## ğŸ“Š Data Types

### RealtimeTechEvent Interface
```typescript
interface RealtimeTechEvent {
  id?: string;                    // Auto-generated by Firebase
  title: string;                  // Event title
  details: string;                // Event description
  place: string;                  // City/Location
  venue: string;                  // Specific venue name
  date: string;                   // ISO date string
  requirements: string;           // Prerequisites
  type: 'hackathon' | 'internship' | 'event' | 'tech-news';
  posterUrl?: string;             // Firebase Storage URL
  posterPath?: string;            // Storage path for deletion
  createdAt: number;              // Unix timestamp
  updatedAt: number;              // Unix timestamp
  createdBy: string;              // Admin user ID
  isActive: boolean;              // Soft delete flag
  registrationLink?: string;      // Registration URL
  deadline?: string;              // ISO date string
  tags: string[];                 // Search tags
  priority: 'low' | 'medium' | 'high';
}
```

## ğŸ”§ Admin Functions

### Create Event
```typescript
const eventId = await createRealtimeTechEvent(eventData, posterFile);
```

### Update Event
```typescript
await updateRealtimeTechEvent(eventId, updateData, newPosterFile);
```

### Delete Event (Soft Delete)
```typescript
await deleteRealtimeTechEvent(eventId);
```

### Subscribe to Real-time Updates
```typescript
const unsubscribe = subscribeToRealtimeTechEvents((events) => {
  console.log('Received events:', events);
});
```

## ğŸ“± Student Functions

### Real-time Event Viewing
Students automatically receive real-time updates when:
- Admin creates new events
- Admin updates existing events
- Admin deletes events (they disappear from student view)

### Features Available to Students
- âœ… View all active events in real-time
- âœ… Filter by event type (hackathon, internship, event, tech-news)
- âœ… Search events by title, details, location, or tags
- âœ… View detailed event information
- âœ… Access registration links
- âœ… See event deadlines and priorities
- âœ… Dark mode support

## ğŸ§ª Testing

### Test Database Connection
1. Go to Admin Dashboard â†’ Tech Events Management
2. Click "ğŸ§ª Test Realtime DB" button
3. Check console for connection logs
4. Verify test event appears in both admin and student views

### Manual Testing Steps
1. **Admin Side**: Create a new tech event
2. **Student Side**: Check if event appears immediately (no refresh needed)
3. **Admin Side**: Edit the event
4. **Student Side**: Verify changes appear in real-time
5. **Admin Side**: Delete the event
6. **Student Side**: Confirm event disappears immediately

## ğŸ”’ Security Rules

Make sure your Firebase Realtime Database rules allow read/write access:

```json
{
  "rules": {
    "techEvents": {
      ".read": true,
      ".write": true
    }
  }
}
```

## ğŸŒ Database Console

Access your Realtime Database at:
https://console.firebase.google.com/u/0/project/login-44e2b/database/login-44e2b-default-rtdb/data/~2F

## ğŸ“ Key Features

### Real-time Synchronization
- âš¡ Instant updates across all connected clients
- ğŸ”„ No page refresh required
- ğŸ“± Works on both admin and student dashboards

### Data Persistence
- ğŸ’¾ All events stored permanently in Firebase
- ğŸ—‚ï¸ Organized structure for easy querying
- ğŸ” Efficient filtering and searching

### File Storage Integration
- ğŸ“¸ Event posters stored in Firebase Storage
- ğŸ”— Automatic URL generation and management
- ğŸ—‘ï¸ Automatic cleanup when events are deleted

## ğŸš€ Performance

- **Real-time Updates**: < 100ms latency
- **Data Loading**: Optimized with active event filtering
- **Storage**: Efficient poster management with Firebase Storage
- **Scalability**: Handles unlimited events and concurrent users

## ğŸ”§ Troubleshooting

### Connection Issues
1. Check Firebase project configuration
2. Verify database URL in config.ts
3. Check browser console for error messages
4. Test connection using the "Test Realtime DB" button

### Data Not Appearing
1. Verify `isActive: true` on events
2. Check Firebase security rules
3. Confirm real-time listeners are properly set up
4. Check browser network tab for Firebase requests

### Real-time Updates Not Working
1. Ensure `subscribeToRealtimeTechEvents` is called
2. Check for proper cleanup of listeners
3. Verify Firebase connection is stable
4. Test with multiple browser tabs/windows
